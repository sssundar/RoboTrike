; General_Interrupts.inc
; Description: 
; This file includes some definitions for the 80188 Interrupt Controller.
; It is not complete. It only considers master mode and specific registers.
;
; Revision History:
;  11/14/2014 SSundar 	initially written; POLL/POLLSTS, slave mode, 
; 						not handled. 

; PCB_BASE should be the Peripheral Control Block base, defined 
; on a project-by-project basis.

; Interrupt Cotnrol Unit Register Relative Peripheral Control Block Addresses

INT3_CONTROL 		EQU PCB_BASE + 3EH		
INT2_CONTROL 		EQU PCB_BASE + 3CH

; Mnemonic IOCON, I1CON 
; Cascadable external interrupt pins
INT1_CONTROL 		EQU PCB_BASE + 3AH
INT0_CONTROL 		EQU PCB_BASE + 38H

; Mnemonic DMA0CON, DMA1CON
DMA0_CONTROL 		EQU PCB_BASE + 34H
DMA1_CONTROL 		EQU PCB_BASE + 36H

; Mnemonic TCUCON
TIMER_CONTROL 		EQU PCB_BASE + 32H

; Mnemonic INTSTS
INTERRUPT_STATUS 	EQU PCB_BASE + 30H

; Mnemonic REQST
INTERRUPT_REQUEST 	EQU PCB_BASE + 2EH

; Mnemonic INSERV
IN_SERVICE 			EQU PCB_BASE + 2CH

; Mnemonic PRIMSK
PRIORITY_MASK 		EQU PCB_BASE + 2AH

; Mnemonic IMASK
INTERRUPT_MASK 		EQU PCB_BASE + 28H

; POLL, POLLSTS NOT YET HANDLED
;POLL_STATUS		EQU	PCB_BASE + 26H
;POLL 				EQU PCB_BASE + 24H

; Mnemonic EOI, End of Interrupt Register
EOI 				EQU PCB_BASE + 22H

; SPECIFIC CONTROL REGISTER PRIORITY BITS, AND PRIMSK REGISTER BITS
; low 3 bits of interrupt control registers
; highest 0, lowest 7
PRIORITY0 			EQU 0000000000000000B
PRIORITY1 			EQU 0000000000000001B
PRIORITY2 			EQU 0000000000000010B
PRIORITY3 			EQU 0000000000000011B
PRIORITY4 			EQU 0000000000000100B
PRIORITY5 			EQU 0000000000000101B
PRIORITY6 			EQU 0000000000000110B
PRIORITY7 			EQU 0000000000000111B

; EOI Register Specific and Nonspecific Bit-values
EOI_NON_SPECIFIC	EQU 8000H
EOI_TIMER			EQU 0008H
TIMER0VECTOR		EQU 0008H
TIMER1VECTOR 		EQU 0012H
TIMER2VECTOR		EQU 0013H
EOI_DMA0			EQU 000AH
EOI_DMA1			EQU 000BH
EOI_INT0			EQU 000CH
EOI_INT1			EQU 000DH
EOI_INT2			EQU 000EH
EOI_INT3			EQU 000FH

; INTSTS BITS
; for debugging, again; doubt we set this manually for hardware interrupts
INTSTS_DMA_HALT		EQU 8000H
INTSTS_TMR2			EQU	0004H
INTSTS_TMR1			EQU	0002H
INTSTS_TMR0			EQU 0001H

; INDIVIDUAL CONTROL REGISTER MASK BIT
MASK_INTERRUPT		EQU 0000000000001000B
UNMASK_INTERRUPT	EQU 0000000000000000B

; LEVEL OR EDGE TRIGGER BIT
LEVEL_TRIGGER 		EQU 0000000000010000B
EDGE_TRIGGER 		EQU 0000000000000000B

; IMASK, REQST, INSERV REGISTERS BROKEN UP BITWISE
; These should probably not be set manually
; The values are shown for visual debugging
;TMR				EQU	0000000000000001B
;DMA0				EQU	0000000000000100B
;DMA1				EQU	0000000000001000B
;INT0				EQU	0000000000010000B
;INT1				EQU	0000000000100000B
;INT2				EQU	0000000001000000B
;INT3				EQU	0000000010000000B